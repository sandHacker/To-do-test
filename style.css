@import url('https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Lato:wght@400;700&display=swap');

/* Reset and Base Styles */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 16px; /* Base font size */
}

body {
    font-family: 'Lato', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    background-color: #FAF9F6;
    color: #2F4F4F;
    margin: 0;
    padding: 20px;
    line-height: 1.6;
}

h1, h2, h3 {
    font-family: 'Lora', serif;
    color: #2F4F4F;
    margin-bottom: 0.75em;
    line-height: 1.3;
}

h1 {
    font-size: 2.5rem;
    margin-top: 20px;
}

h2 {
    font-size: 2rem;
}

h3 {
    font-size: 1.5rem;
}

p {
    margin-bottom: 1rem;
}

a {
    color: #4DB6AC;
    text-decoration: none;
    transition: color 0.3s ease;
}

a:hover {
    color: #388E8E;
    text-decoration: underline;
}

/* Add styles for login/signup containers */
.container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px;
    margin-top: 40px;
    width: 100%;
    max-width: 450px;
}

/* Form styling */
#login-form, #signup-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 30px;
    background-color: #FFFFFF;
    border: 1px solid #D3D3D3;
    border-radius: 8px;
    width: 100%;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

#login-form div, #signup-form div {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

#login-form label, #signup-form label {
    font-weight: bold;
    color: #2F4F4F;
    font-size: 0.95rem;
}

input[type="text"], input[type="password"] {
    padding: 12px 15px;
    border: 1px solid #CCCCCC;
    border-radius: 6px;
    font-family: 'Lato', sans-serif;
    font-size: 1rem;
    color: #2F4F4F;
    background-color: #FFFFFF;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

input[type="text"]:focus, input[type="password"]:focus {
    outline: none;
    border-color: #4DB6AC;
    box-shadow: 0 0 0 3px rgba(77, 182, 172, 0.2);
}

/* General button styles */
button, input[type="submit"] {
    padding: 12px 20px;
    background-color: #4DB6AC;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-family: 'Lato', sans-serif;
    font-weight: 600; /* Semi-bold */
    font-size: 1rem;
    text-transform: none; /* Softer feel */
    letter-spacing: normal;
    transition: background-color 0.3s ease, transform 0.1s ease, box-shadow 0.2s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.07);
}

button:hover, input[type="submit"]:hover {
    background-color: #388E8E;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

button:active, input[type="submit"]:active {
    transform: translateY(0px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.07);
}

/* Login/Signup form submit buttons can be more prominent */
#login-form button, #signup-form button {
    text-transform: uppercase;
    letter-spacing: 0.5px;
    padding: 14px 20px;
    font-size: 1.05rem;
    font-weight: bold; /* Ensure it's bold as per original general style */
}

/* Paragraphs with links below the form */
.container p {
    margin-top: 15px;
    color: #555;
}

/* Dark Mode Toggle Styles */
#darkModeToggleContainer {
    position: fixed;
    top: 10px;
    left: 10px;
    cursor: pointer;
    z-index: 1000;

}

#darkModeToggle {
    font-size: 24px;
    padding: 5px;
    border-radius: 50%;
}



/* Auth container on index.html */
#auth-container {
    text-align: center;
    margin-top: 50px;
    padding: 20px;
    width: 100%;
    max-width: 500px;
}

#auth-container h1 {
    margin-bottom: 30px;
}

#auth-container p {
    margin-bottom: 20px;
    font-size: 1.1rem;

}

#auth-container button {
    padding: 12px 25px;
    font-size: 1.1rem;
    margin: 10px 5px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: bold; /* Ensure it's bold */
}

/* App Container (#app-container) and To-Do List specific items on index.html */
#app-container {
    width: 100%;
    max-width: 600px;
    margin-top: 20px;
    padding: 20px;
    display: none;
}

#app-container h1 {
    text-align: center;
    margin-bottom: 30px;
}


#todo-input {
    width: calc(100% - 130px);
    margin-right: 10px;
    margin-bottom: 20px;
    display: inline-block;
    vertical-align: middle;
}

#add-todo-btn {
    width: 110px;
    padding: 12px 10px;
    vertical-align: middle;
    margin-bottom: 20px;
    /* text-transform: none; Inherited from general button */
}

/* Container for action buttons like End Day, View History, Logout */
#app-container > button:not(#add-todo-btn) {
    /* This rule might need review as history-btn and logout-btn are moved */
    margin: 5px;
}

#end-day-btn {
    display: block; /* To allow margin auto centering */
    margin: 20px auto; /* Top/bottom margin 20px, left/right auto for centering */
    /* Inherit general button styles */
}

#history-btn, #logout-btn, #back-to-main-btn {
    /* These buttons are styled by navbar rules or general button rules if elsewhere */
    /* #history-btn and #logout-btn are in the navbar */
}


ul#todo-list {
    list-style-type: none;
    padding: 0;
    width: 100%;
    margin-top: 20px;
}

li {
    background-color: #FFFFFF;
    border: 1px solid #D3D3D3;
    padding: 15px;
    margin-top: 10px;
    border-radius: 6px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);

    transition: opacity 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, border-top 0.2s ease, box-shadow 0.3s ease; /* Smooth transitions & added box-shadow from existing */

}

li:hover {
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}

li > span {
    flex-grow: 1;
    min-width: 0;
    padding-right: 15px;
    overflow-wrap: break-word;
}

.completed span {
    text-decoration: line-through;
    color: #777;
}

li div {
    display: flex;
    gap: 8px;
}

/* Buttons inside list items (Complete, Remove) */
li button {
    padding: 6px 12px;
    font-size: 0.85rem;
    text-transform: none;
    letter-spacing: normal;
    font-weight: normal;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

li button:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.08);
}

li button.complete-btn {
    background-color: #66BB6A;
    color: white;
}

li button.complete-btn:hover {
    background-color: #4CAF50;
}

li button.remove-btn {
    background-color: #EF5350;
    color: white;
}

li button.remove-btn:hover {
    background-color: #E53935;
}

.completed li button.complete-btn { /* Style for complete button when task IS completed */
    background-color: #A5D6A7;
    color: #333;
}
.completed li button.complete-btn:hover {
    background-color: #81C784;
}


/* History Page Styles */
#history-page {
    width: 100%;
    margin: 20px auto;
    padding: 20px;
    background-color: #FFFFFF;
    border: 1px solid #D3D3D3;
    border-radius: 8px;
}

#history-page h2, #history-page h3 {
    margin-bottom: 15px;
    text-align: center;
}

#dates-list {
    list-style-type: none;
    padding: 0;
    margin-bottom: 20px;
}

#dates-list li {
    padding: 12px 15px;
    background-color: #F8F8F8;
    border: 1px solid #E0E0E0;
    border-radius: 6px;
    margin-bottom: 8px;
    cursor: pointer;
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

#dates-list li:hover {
    background-color: #E9E9E9;
    border-color: #C0C0C0;
}

#archived-tasks-viewer h3 {
    margin-top: 20px;
}
#archived-tasks-list {
    list-style-type: none;
    padding: 0;
}

#archived-tasks-list li {
    padding: 10px 15px;
    border-bottom: 1px solid #E0E0E0;
}

#archived-tasks-list li:last-child {
    border-bottom: none;
}

#archived-tasks-list li.completed-task-history {
    color: #28a745;
}

#archived-tasks-list li.incomplete-task-history {
    color: #dc3545;
}


/* Dark Mode Styles */
body.dark-mode {
    background-color: #1A202C;
    color: #E2E8F0;
}

body.dark-mode h1, body.dark-mode h2, body.dark-mode h3 {
    color: #E2E8F0;
}

body.dark-mode a {
    color: #80CBC4;
}

body.dark-mode a:hover {
    color: #4DB6AC;
}

body.dark-mode .container {
}

body.dark-mode #login-form, body.dark-mode #signup-form {
    background-color: #2D3748;
    border-color: #4A5568;
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
}

body.dark-mode #login-form label, body.dark-mode #signup-form label {
    color: #E2E8F0;
}

body.dark-mode input[type="text"], body.dark-mode input[type="password"] {
    background-color: #252A34;
    color: #E2E8F0;
    border-color: #4A5568;
}

body.dark-mode input[type="text"]:focus, body.dark-mode input[type="password"]:focus {
    border-color: #80CBC4;
    box-shadow: 0 0 0 3px rgba(128, 203, 196, 0.25);

}

/* Dark Mode Button Refinements */
body.dark-mode button, body.dark-mode input[type="submit"] {
    background-color: #80CBC4;
    color: #1A202C;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

body.dark-mode button:hover, body.dark-mode input[type="submit"]:hover {
    background-color: #4DB6AC;
    color: #FFFFFF;
    box-shadow: 0 4px 8px rgba(0,0,0,0.3);
}

/* Dark mode for prominent buttons like Login/Signup form submits and #auth-container button */
body.dark-mode #login-form button, body.dark-mode #signup-form button, body.dark-mode #auth-container button {
    background-color: #80CBC4;
    color: #1A202C;
    /* text-transform and letter-spacing are inherited from light mode definitions */
}

body.dark-mode #login-form button:hover, body.dark-mode #signup-form button:hover, body.dark-mode #auth-container button:hover {
    background-color: #4DB6AC;
    color: #FFFFFF;
}

body.dark-mode .container p {
    color: #A0AEC0;
}

body.dark-mode #auth-container p {
    color: #CBD5E0;
}

/* Dark Mode for App Container and To-Do List items */
body.dark-mode #app-container {
}

body.dark-mode #todo-input {
}

body.dark-mode li {
    background-color: #2D3748;
    border-color: #4A5568;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}


body.dark-mode li:hover {
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

body.dark-mode .completed span {
    color: #A0AEC0;
}

/* Specific dark mode overrides for list item buttons */
body.dark-mode li button.complete-btn {
    background-color: #4CAF50;
    color: white;
}

body.dark-mode li button.complete-btn:hover {
    background-color: #388E3C;

}

body.dark-mode li button.remove-btn {
    background-color: #E53935;
    color: white;
}

body.dark-mode li button.remove-btn:hover {
    background-color: #C62828;
}


body.dark-mode .completed li button.complete-btn {
    background-color: #81C784;
    color: #1A202C;
}
body.dark-mode .completed li button.complete-btn:hover {
    background-color: #66BB6A;
}


/* Dark Mode for History Page */
body.dark-mode #history-page {
    background-color: #2D3748;
    border-color: #4A5568;
}

body.dark-mode #history-page h2, body.dark-mode #history-page h3 {
    color: #E2E8F0;
}

body.dark-mode #dates-list li {
    background-color: #252A34;
    border-color: #4A5568;
    color: #CBD5E0;
}

body.dark-mode #dates-list li:hover {
    background-color: #303640;
}

body.dark-mode #archived-tasks-list li {
    border-bottom-color: #4A5568;
}

body.dark-mode #archived-tasks-list li.completed-task-history {
    color: #68D391;
}

body.dark-mode #archived-tasks-list li.incomplete-task-history {
    color: #FC8181;
}

body.dark-mode #darkModeToggle {

}

/* Drag and Drop Styles */
#todo-list li.dragging {
    opacity: 0.5; /* Make the dragged item semi-transparent */
    background-color: #e0e0e0; /* Light gray background while dragging */
    border-style: dashed; /* Optional: dashed border */
}

#todo-list li.drag-over {
    border-top: 2px solid #4DB6AC; /* Highlight top border of potential drop target */
    /* Or use background color change: */
    /* background-color: #f0f8ff; */ /* AliceBlue, a very light blue as hover indication */
}

/* Dark Mode adaptations for drag states */
body.dark-mode #todo-list li.dragging {
    background-color: #4A5568; /* Darker background for dragging item in dark mode */
    opacity: 0.6;
    border-style: dashed;
    border-color: #80CBC4; /* Accent color for dashed border */
}

body.dark-mode #todo-list li.drag-over {
    border-top: 2px solid #80CBC4; /* Dark mode accent for drop target highlight */
    /* Or use background color change: */
    /* background-color: #303640; */ /* Slightly lighter than item bg for dark mode hover */

}

/* Navbar Styles */
nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    background-color: #f8f9fa;
    border-bottom: 1px solid #dee2e6;
    width: 100%;
    position: fixed; /* Make navbar fixed at the top */
    top: 0;
    left: 0;
    z-index: 1000; /* Ensure navbar is above other content */
}

body {
    padding-top: 70px; /* Add padding to body to offset fixed navbar */
}


.nav-title h1 {
    font-size: 1.75rem; /* Adjusted for navbar */
    margin: 0; /* Remove default margin */
}

#darkModeToggleContainer {
    position: static; /* Override fixed positioning */
    /* Styling for dark mode toggle within navbar is handled by flexbox */
}

/* General Nav List Styling */
.desktop-nav-menu, .mobile-nav-menu {
    list-style-type: none;
    padding: 0;
    margin: 0;
}

.desktop-nav-menu li {
    display: inline-block;
    margin-left: 10px;
}

.desktop-nav-menu li a {
    padding: 8px 12px; /* Adjust padding to resemble button size */
    text-decoration: none;
    color: inherit; /* Inherit color from nav or body */
    border-radius: 4px;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.desktop-nav-menu li a:hover {
    background-color: #e9ecef; /* Light hover for links */
    color: #0056b3; /* Link hover color */
    text-decoration: none;
}

/* Hamburger Icon Styling */
.dropdown {
    position: relative;
    display: none; /* Hidden by default, shown on mobile */
}

.dropdown-toggle {
    display: inline-block;
    text-decoration: none;
    padding: 8px; /* Padding around hamburger */
}

span.hamburger-bar {
    display: block;
    width: 25px;
    height: 3px;
    background-color: #333; /* Bar color */
    margin: 5px 0;
    transition: 0.4s;
}

/* Dropdown Menu Styling */
.dropdown-menu {
    display: none; /* Hidden by default, toggled by JS */
    position: absolute;
    right: 0;
    top: 100%; /* Position below the hamburger icon */
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 4px;
    z-index: 1001;
    min-width: 180px; /* Slightly wider */
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.dropdown-menu.active {
    display: block;
}

.mobile-nav-menu li a {
    display: block;
    padding: 10px 15px;
    text-decoration: none;
    color: #333;
    transition: background-color 0.3s ease;
}

.mobile-nav-menu li a:hover {
    background-color: #f0f0f0;
    text-decoration: none;
}

/* Dark Mode Navbar Styles */
body.dark-mode nav {
    background-color: #343a40;
    border-bottom-color: #495057;
}

body.dark-mode .nav-title h1 {
    color: #E2E8F0;
}

/* Dark mode for desktop nav links */
body.dark-mode .desktop-nav-menu li a {
    color: #E2E8F0;
}

body.dark-mode .desktop-nav-menu li a:hover {
    background-color: #4A5568;
    color: #ffffff;
}

/* Dark mode for hamburger bars */
body.dark-mode span.hamburger-bar {
    background-color: #E2E8F0; /* Light color for bars */
}

/* Dark mode for dropdown menu */
body.dark-mode .dropdown-menu {
    background-color: #2D3748;
    border-color: #4A5568;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
}

body.dark-mode .mobile-nav-menu li a {
    color: #E2E8F0;
}

body.dark-mode .mobile-nav-menu li a:hover {
    background-color: #4A5568;
}


/* Responsive Navbar Styles */
/* Mobile/Tablet (< 767.98px) */
@media (max-width: 767.98px) {
    nav {
        justify-content: space-between;
    }

    .nav-title {
        order: 1;
        flex-grow: 1;
        text-align: left;
    }

    #darkModeToggleContainer {
        order: 2;
    }

    .nav-buttons {
        order: 3;
    }

    .desktop-nav-menu { /* Hide desktop menu on mobile */
        display: none;
    }

    .dropdown { /* Show dropdown (hamburger) structure on mobile */
        display: inline-block;
    }
}

/* Desktop (>= 768px) */
@media (min-width: 768px) {
    nav {
        justify-content: space-between;
        align-items: center;
    }

    #darkModeToggleContainer {
        order: 1;
    }

    .nav-title {
        order: 2;
        text-align: center;
        flex-grow: 1;
    }

    .nav-buttons {
        order: 3;
    }

    .desktop-nav-menu { /* Ensure desktop menu is visible */
        display: flex; /* Or inline-block, depending on desired layout */
    }

    .nav-buttons .dropdown { /* Hide dropdown (hamburger) on desktop */
        display: none !important; /* Use !important if necessary to override */
    }
}
